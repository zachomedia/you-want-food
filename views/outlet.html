<img ng-src="{{outlet.logo}}" ng-hide="{{!outlet.logo}}" />
<h1>{{outlet.outlet_name}}</h1>

<p class="outlet_location">Located in {{outlet.building}}.</p>
<p class="outlet_description" ng-bind-html="outlet.description"></p>

<section class="outlet_notice notice" ng-hide="{{!outlet.notice}}">
    <h3>NOTICE</h3>
    <p ng-bind-html="outlet.notice"></p>
</section>

<h2>Hours of Operation</h2>
<section class="outlet_hours">
    <div>
        <h3>Standard Hours</h3>
        <table cellspacing="0">
            <tr class="header"><th>Week Day</th><th>Open</th><th>Close</th></tr>
            <tr ng-repeat="hours in outlet.opening_hours|orderBy:'order'" ng-class="{last: $last}">
                <th ng-class="{ today: hours.weekday.toLowerCase() == weekdays[today.getDay()] }">{{hours.weekday}}</th>
                <td ng-class="{ today: hours.weekday.toLowerCase() == weekdays[today.getDay()] }">{{hours.opening_hour || "-"}}</td>
                <td ng-class="{ today: hours.weekday.toLowerCase() == weekdays[today.getDay()] }">{{hours.closing_hour || "-"}}</td>
            </tr>
        </table>
    </div>
    
    <div ng-show="outlet.special_hours[0]">
        <h3>Special Hours</h3>
        <ul>
            <li ng-repeat="date in outlet.special_hours">
                <b>{{date.date | date:'fullDate'}}</b><br />{{date.opening_hour}} - {{date.closing_hour}}
            </li>
        </ul>
    </div>
    
    <div ng-show="outlet.dates_closed[0]">
        <h3>Dates Closed</h3>
        <ul>
            <li ng-repeat="date in outlet.dates_closed">{{date | date:'fullDate'}}</li>
        </ul>
    </div>
</section>

<section class="outlet_menu">
    <h2 ng-show="outlet.menu[0]">Menu</h2>
    <article class="outlet_menu_day" ng-repeat="day in outlet.menu" ng-class="{ today: day.day.toLowerCase() == weekdays[today.getDay()] }">
        <h3>{{day.day}}</h3>
        <article class="outlet_menu_meal" ng-repeat="meal in day.meals|orderBy:'order'">
            <h4>{{meal.name}}</h4>
            
            <ul>
                <li ng-repeat="item in meal.items">{{item.product_name}} <span class="diet_type"><b>Diet Type:</b> {{item.diet_type || "n/a"}}</span></li>
                <p ng-hide="meal.items.length">No menu information</p>
            </ul>

            <section class="notice" ng-hide="{{!meal.notes}}"><p ng-bind-html="meal.notes"></p></section>
        </article>

        <section class="notice" ng-hide="{{!day.notes}}"<p ng-bind-html="day.notes"></p></section>
    </article>
</section>
